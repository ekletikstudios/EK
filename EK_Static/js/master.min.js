// Header.js based on a project by Traversy Media
// Edited by Leo Neto
// September 19, 2017


$(document).ready(function () {

    // header.js
    var wrapper = $('#wrapper');
    var topLayer = $('#wrapper .top');
    var handle = $('.handle');
    var skew = 0;
    var delta = 0;
    if(wrapper.hasClass('skewed')){
        skew = 1000;
    }
    wrapper.on('mousemove', function(e) {
        delta = (e.clientX - window.innerWidth/2) * 0.5;
        handle.css("left", e.clientX+delta+'px');
        topLayer.css("width", e.clientX+skew+delta+'px');
    });

    // Clock
    WriteGreeting();

});




var timeOfDayArray = ["Bom dia!", "Boa tarde!", "Boa noite!", "Hora de dormir!"];
function DefineTimeOfDay(currentTime){
  if (currentTime >= 22 ){
    greeting = timeOfDayArray[3];
  }
  else if (currentTime > 18){
    greeting = timeOfDayArray[2];
  }
  else if (currentTime >= 12){
    greeting = timeOfDayArray[1];
  }
  else if (currentTime >= 0){
    greeting = timeOfDayArray[0];
  }
  else {
    greeting = "Ol√°, ";
  }
  return greeting;
}
function ConcatenateZero(secondOrMinute) {
  if(secondOrMinute < 10){ secondOrMinute = "0"+secondOrMinute; }
  return secondOrMinute;
}

function WriteGreeting() {
  var greeting;
  var date = new Date();
  var hours = date.getHours();
  var minutes = date.getMinutes();
  var seconds = date.getSeconds();
  minutes = ConcatenateZero(minutes);
  seconds = ConcatenateZero(seconds);
  var hellogreeting = DefineTimeOfDay(hours);
  $('#greeting').html(hellogreeting);
  $('#clock').html(hours + ':'+ minutes + ':'+ seconds);
  var tickingClock = setInterval(WriteGreeting, 1000);
}